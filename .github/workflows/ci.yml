on: "pull_request"

jobs:
    ci:
        name: Install && lint && test
        runs-on: ubuntu-20.04

        steps:
            -   uses: actions/checkout@v2
            -   uses: actions/setup-node@v2
                with:
                    node-version: '14.18.0'
                    cache-dependency-path: './yarn.lock.json'

            -   name: Setup
            -   run: yarn install --frozen-lockfile
            -   run: yarn lint
            -   run: yarn test

              # send coverage to codecov
            -   name: Upload coverage to Codecov
                uses: codecov/codecov-action@v2
                with:
                    token: ${{ secrets.CODECOV_TOKEN }}
